#!/usr/bin/env Rscript
optic <- read.csv("/shared/cssamba0/staffstore/acm538/OPTinstructions.txt", header=TRUE)
opticcumsum<-data.frame(count=optic$Count, optthreadsum=cumsum(rowSums(optic[,-1], na.rm=TRUE)))
png("opticbw.png")
plot(y = opticcumsum$optthreadsum, x=optic$Count, type="l", lty="solid", lwd=3, main="Thrashing with OPT", sub="Solid for 4k OPT, dotted vertical, processor joins, dashed vertical, processor leaves", xlab="Simulated ticks", ylab="Lines processed", xlim=range(c(0, max(optic$Count))), ylim=(c(0, max(opticcumsum$optthreadsum))))
abline(v=35606597, lty="dotted")
abline(v=148091392, lty="dotted")
abline(v=192718594, lty="dotted")
abline(v=489106277, lty="dotted")
abline(v=1061592894, lty="dashed")
abline(v=1216401613, lty="dotted")
abline(v=1234650885, lty="dotted")
abline(v=3152054340, lty="dotted")
abline(v=3265798471, lty="dotted")
abline(v=4243251232, lty="dotted")
abline(v=4945424857, lty="dotted")
abline(v=4946920090, lty="dotted")
abline(v=5523356996, lty="dotted")
abline(v=5645917902, lty="dotted")
abline(v=6754455865, lty="dotted")
abline(v=7678221546, lty="dotted")
abline(v=8490347166, lty="dotted")
abline(v=11383522372, lty="dashed")
abline(v=13911234846, lty="dotted")
dev.off()
